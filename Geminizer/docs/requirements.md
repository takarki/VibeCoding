# 要求仕様書 (Requirement Specification)

## 1. プロジェクト概要
Webページ閲覧中に、そのページのURLとコンテンツを読み取り、事前に設定されたプロンプトに基づいてAI（現在はGemini）で処理を行うChrome拡張機能を開発する。
主な目的は、動画の要約、インフォグラフィック作成、図解作成、ポッドキャスト生成など、コンテンツの二次利用と理解補助である。

## 2. 主な機能要件

### 2.1. ページ解析とデータ取得
- **URL取得**: 現在閲覧中のタブのURLを取得する。
- **コンテンツ取得**: 必要に応じてページ内のテキストやメタデータを取得する（YouTubeの動画IDなど）。

### 2.2. AI連携 (Gemini先行)
- **Gemini連携**: 取得した情報と選択されたプロンプトを用いて、Gemini上でコンテンツを生成する。
- **マルチLLM対応（将来）**: ChatGPT, Claude, Grok, Monicaなど、他のAIモデルへの拡張性を考慮する。

### 2.3. プロンプト管理
- **プリセットプロンプト**: よく使うプロンプト（YouTube要約、HTMLインフォグラフィック、NanoBanana Pro図解、ポッドキャスト作成など）をあらかじめ用意する。
- **カスタムプロンプト**: ユーザーが自由にプロンプトを追加・編集・削除できる機能を提供する。無制限に増やせること。

### 2.4. 具体的なユースケース
- **YouTube要約**:
    - 動画の内容を要約する。
    - **タイムスタンプ連携**: 要約内のタイムスタンプをクリックすると、該当箇所から動画を再生できるようにする（要検討事項）。
- **Webページ分析**:
    - ページ内容を分析し、HTMLインフォグラフィックとして出力する。
    - NanoBanana Pro向けの解説図解を作成する。
    - 記事内容を元にポッドキャスト（音声化用スクリプト等）を作成する。

## 3. 非機能要件
- **拡張性**: 新しいAIサービスや新しいプロンプトタイプを容易に追加できるアーキテクチャ。
- **使いやすさ**: ブラウザのツールバーから数クリックで実行できること。

## 4. 提案・確認事項
- **AIとの連携方式**: GeminiのWebインターフェースを自動操作するのか、APIを利用するのか。
    - *提案*: API利用の方が安定的だがコストがかかる場合がある。Web操作は無料だが仕様変更に弱い。ユーザーの意図は「そのGeminiを開いて」とあるため、Web UIを開く形を想定。
- **YouTubeタイムスタンプ**: Geminiの生成テキスト内のリンクから、元のYouTubeタブを制御する仕組みが必要。
